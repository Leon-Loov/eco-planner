name: eco-planner

services:
  test:
    image: ecoplanner:test
    build: .
    pull_policy: build
    networks:
      - testDatabase
    env_file:
      - docker/.env.test
    command: sh -c 'sleep 15; HOSTNAME="0.0.0.0" node server.js' # Add test commands

  testdb:
    build:
      context: .
      dockerfile: docker/testdb.Dockerfile
    networks:
      - testDatabase

networks:
  testDatabase:
    internal: true
